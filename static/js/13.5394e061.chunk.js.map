{"version":3,"sources":["workspace/view-users/ViewUser.js","workspace/view-users/ViewUsers.js"],"names":["useStyles","makeStyles","card","width","content","display","flexDirection","justifyContent","paddingLeft","paddingRight","paddingTop","paddingBottom","media","alignSelf","height","borderRadius","texts","marginRight","displayName","fontWeight","fontSize","overflow","icon","userName","marginTop","alignItems","emailAddress","actions","marginLeft","action","actionIcon","ViewUser","props","classes","firstName","lastName","pictureURL","onEdit","Card","className","elevation","CardContent","Typography","Icon","src","CardActions","Button","variant","onClick","startIcon","fontSizeSmall","color","root","minHeight","backgroundColor","position","pageTitle","progress","seperator","marginBottom","users","pagination","bottom","ViewUsers","useSelector","state","list","fetching","totalPages","dispatch","useDispatch","history","useHistory","location","useLocation","params","queryString","parse","search","useState","parseInt","page","setPage","React","limit","rowsPerPage","generateURL","useCallback","page0","params0","URLSearchParams","append","push","toString","useEffect","fetchUsers","undefined","startDate","Date","Number","endDate","length","map","item","id","CircularProgress","Pagination","count","onChange","event","newPage","window","scrollTo"],"mappings":"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","file":"static/js/13.5394e061.chunk.js","sourcesContent":["import React from \"react\";\nimport {\n    Icon,\n    Button,\n    CardActions,\n    CardContent,\n    Card,\n    Typography,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(() => ({\n    card: {\n        width: \"100%\",\n    },\n    content: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        paddingLeft: 64,\n        paddingRight: 64,\n        paddingTop: 8,\n        paddingBottom: 8,\n    },\n    media: {\n        alignSelf: \"flex-start\",\n        width: 96,\n        height: 96,\n        borderRadius: 4,\n    },\n    texts: {\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        marginRight: 8,\n    },\n    displayName: {\n        fontWeight: 600,\n        fontSize: 16,\n        overflow: \"hidden\",\n    },\n    icon: {\n        marginRight: 8,\n    },\n    userName: {\n        fontWeight: 400,\n        fontSize: 14,\n        marginTop: 8,\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n    },\n    emailAddress: {\n        fontWeight: 400,\n        fontSize: 14,\n        marginTop: 8,\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n    },\n    actions: {\n        marginLeft: 56,\n    },\n    action: {\n        borderRadius: 16,\n        fontSize: 12,\n        paddingLeft: 16,\n        paddingRight: 16,\n        paddingTop: 4,\n        paddingBottom: 4,\n    },\n    actionIcon: {\n        fontSize: \"14px !important\",\n    },\n}));\n\nconst ViewUser = (props) => {\n    const classes = useStyles();\n    const {\n        firstName,\n        lastName,\n        userName,\n        emailAddress,\n        pictureURL,\n        onEdit,\n    } = props;\n\n    return (\n        <Card className={classes.card} elevation={0}>\n            <CardContent className={classes.content}>\n                <div className={classes.texts}>\n                    <Typography className={classes.displayName}>\n                        {firstName} {lastName}\n                    </Typography>\n                    <Typography className={classes.userName}>\n                        <Icon className={classes.icon} fontSize=\"small\">\n                            account_circle\n                        </Icon>\n                        {userName || \"(unavailable)\"}\n                    </Typography>\n                    <Typography className={classes.emailAddress}>\n                        <Icon className={classes.icon} fontSize=\"small\">\n                            email\n                        </Icon>\n                        {emailAddress}\n                    </Typography>\n                </div>\n                {/* eslint-disable-next-line jsx-a11y/alt-text */}\n                <img className={classes.media} src={pictureURL} />\n            </CardContent>\n            <CardActions className={classes.actions}>\n                <Button\n                    variant=\"outlined\"\n                    onClick={onEdit}\n                    startIcon={\n                        <Icon\n                            classes={{ fontSizeSmall: classes.actionIcon }}\n                            fontSize=\"small\">\n                            edit\n                        </Icon>\n                    }\n                    color=\"secondary\"\n                    className={classes.action}>\n                    Edit\n                </Button>\n            </CardActions>\n        </Card>\n    );\n};\n\nexport default ViewUser;\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport { Pagination } from \"@material-ui/lab\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport queryString from \"qs\";\n\nimport { fetchUsers } from \"../../redux/actions\";\nimport ViewUser from \"./ViewUser\";\n\nconst useStyles = makeStyles(() => ({\n    root: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        minHeight: \"calc(100vh - 32px)\",\n        backgroundColor: \"white\",\n        width: \"calc(100vw - 16px - 256px - 16px - 16px - 400px - 16px - 16px)\",\n        marginLeft: 256 + 16 + 16,\n        borderRadius: 16,\n        paddingTop: 32,\n        paddingBottom: 32,\n        position: \"relative\",\n    },\n    pageTitle: {\n        fontSize: 40,\n        marginTop: 32,\n        fontWeight: 600,\n    },\n    progress: {\n        width: 40,\n        height: 40,\n    },\n    seperator: {\n        height: 0.5,\n        width: \"calc(100% - 96px)\",\n        backgroundColor: \"#343A4030\",\n        marginTop: 16,\n        marginBottom: 16,\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n    },\n    users: {\n        marginBottom: 24,\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    pagination: {\n        position: \"absolute\",\n        bottom: 16,\n    },\n}));\n\nconst DEFAULT_ROWS_PER_PAGE = 20;\n\nconst ViewUsers = () => {\n    const classes = useStyles();\n    const { list, fetching, totalPages } = useSelector((state) => state.users);\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const location = useLocation();\n    const params = queryString.parse(location.search);\n    const [page, setPage] = useState(parseInt(params.page, 10) || 0);\n    const [rowsPerPage] = React.useState(params.limit || DEFAULT_ROWS_PER_PAGE);\n\n    const generateURL = useCallback(\n        (page0, limit) => {\n            const params0 = new URLSearchParams();\n            params0.append(\"page\", page0);\n            params0.append(\"limit\", limit);\n\n            history.push(`/users?${params0.toString()}`);\n        },\n        [history],\n    );\n\n    useEffect(() => {\n        dispatch(fetchUsers({ page, limit: rowsPerPage }));\n    }, [dispatch, page, rowsPerPage]);\n\n    const onPageChange = (event, newPage) => {\n        setPage(newPage - 1);\n        generateURL(newPage - 1, rowsPerPage);\n        window.scrollTo(0, 0);\n    };\n\n    useEffect(() => {\n        if (params.page === undefined || params.limit === undefined) {\n            generateURL(page, rowsPerPage);\n        }\n    }, [generateURL, page, params.page, params.limit, rowsPerPage]);\n\n    if (\"startDate\" in params) {\n        params.startDate = new Date(Number(params.startDate));\n    }\n\n    if (\"endDate\" in params) {\n        params.endDate = new Date(Number(params.endDate));\n    }\n\n    const renderUsers = () =>\n        list.map((item) => (\n            <div key={item.id} className={classes.users}>\n                <ViewUser\n                    firstName={item.firstName}\n                    lastName={item.lastName}\n                    userName={item.userName}\n                    emailAddress={item.emailAddress}\n                    pictureURL={item.pictureURL}\n                />\n                <div className={classes.seperator} />\n            </div>\n        ));\n\n    return (\n        <>\n            <div className={classes.root}>\n                {!fetching && list.length > 0 && renderUsers()}\n                {fetching && <CircularProgress className={classes.progress} />}\n                {!fetching && (\n                    <Pagination\n                        className={classes.pagination}\n                        color=\"secondary\"\n                        count={totalPages}\n                        page={page + 1}\n                        onChange={onPageChange}\n                    />\n                )}\n            </div>\n        </>\n    );\n};\n\nexport default ViewUsers;\n"],"sourceRoot":""}